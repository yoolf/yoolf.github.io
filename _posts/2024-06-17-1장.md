# 1장 


## 인터넷이란?


인터넷은 전 세계의 컴퓨터와 네트워크를 연결하는 거대한 네트워크 시스템을 말한다. 주요 서비스로는 웹 브라우징, 이메일, 파일 전송, 스트리밍 등이 있다.

### 주요 개념

**LAN (Local Area Network)**


제한된 지역 안에서 컴퓨터와 기타 장치를 연결하는 네트워크, 일반적으로 가정, 학교, 회사 등에서 사용된다.


**WAN (Wide Area Network)**


지리적으로 넓은 범위를 커버하는 네트워크, 여러 LAN을 연결하여 더 넓은 범위에서 통신을 가능하게 한다. 인터넷이 가장 큰 예시이다.


**IP (Internet Protocol)**


네트워크 상에서 장치들이 서로 통신하기 위해 사용하는 주소 체계이다. 


**ISP (Internet Service Provider)**


인터넷 서비스 제공자, 인터넷 연결 서비스를 제공하는 회사로, 이동통신사가 이에 해당한다.


**호스트 (Host)**


네트워크에 연결된 기기로 컴퓨터, 스마트폰 등 네트워크 상에서 데이터를 주고받는 모든 장치를 포괄적으로 지칭한다.


**라우터 (Router)**


네트워크 연결 기기로 서로 다른 네트워크를 연결하고 IP 주소를 기반으로 데이터를 적절한 경로로 전달하는 장치를 말한다.


**노드 (Node)**


네트워크 구성 요소로 호스트뿐만 아니라 라우터, 스위치 등 네트워크 상에서 데이터 전송에 참여하는 모든 장치를 포함한다.


**대역폭 (Bandwidth)**


네트워크가 동시에 처리할 수 있는 데이터의 양을 말한다. 대역폭이 높을수록 더 많은 데이터를 동시에 전송할 수 있다.


**패킷 (Packet)**


네트워크를 통해 전송되는 데이터의 최소 단위이다. 각 패킷에는 출발지와 목적지 주소, 순서 정보 등이 포함되어 이를 
어떻게 읽을지 프로토콜을 통해 약속한다. 



### 표준화 및 관리 기관

#### IETF (Internet Engineering Task Force)


인터넷의 표준을 개발 및 유지하는 국제 기구이다. IETF는 기술 문서인 RFC(Request for Comments)를 통해 표준을 제안하고 의견을 수렴하기도 한다.


## 서비스 관점에서 인터넷이란?

인터넷은 응용 프로그램에 다양한 서비스를 제공하는 구조이다. 이는 일종의 API(Application Programming Interface)로, 프로그램들이 네트워크를 통해 데이터를 주고받을 수 있게 해준다. 소켓 프로그래밍은 이러한 API를 사용하여 네트워크 통신을 구현하는 기술이다.


### 프로토콜

통신 개체 간 주고받는 메시지의 형식, 순서, 행동을 정의한 것이다. 이는 패킷에 어떤 공간에 어떤 정보를 담을 것인지에 대한 약속이라고 할 수 있다. 예를 들어, TCP(Transmission Control Protocol) 프로토콜은 데이터를 전송하기 전에 핸드셰이킹이라는 과정을 통해 연결을 설정하고, 이후에 데이터를 주고받는다.


### 네트워크 계층과 프로토콜
![OSI, TCP 모델 차이](https://www.imperva.com/learn/wp-content/uploads/sites/13/2020/02/OSI-vs.-TCPIP-models.jpg.webp)

OSI(Open Systems Interconnection)라는 네트워크를 위한 7개의 계층 모델이 존재하지만, 인터넷을 위한 프로토콜 계층 모델은 TCP/IP로 구성된다. OSI(Open Systems Interconnection) 모델의 모든 계층 요소가 인터넷에 필수적인 것은 아니며, 필요에 따라 선택적으로 사용된다.


### TCP/IP 모델

응용 계층: 응용 프로그램이 사용하는 프로세스 계층이다.
전송 계층: TCP와 UDP만이 존재한다.
	TCP: 신뢰성 있는 데이터 전송 방식을 제공하며, 이메일, 파일 전송 등 신뢰성이 중요한 서비스에 사용된다.
	UDP: 비신뢰성 있는 데이터 전송 방식을 제공하며, 동영상 스트리밍 등 속도가 중요한 서비스에 사용된다.


호스트에는 클라이언트와 서버가 존재하며, 프로세스의 개념으로 두 끝단이 나뉘어져 있다. 한 컴퓨터 내에 클라이언트와 서버가 동시에 존재할 수 있으며, P2P 통신의 경우 등이 이에 해당한다.


### 접속 네트워크

#### DSL (Digital Subscriber Line)

DSL은 데이터를 전송할 때 들어올 때는 한 번에 들어오지만, 나갈 때는 스플리터를 통해 분리되어 전송된다.


#### 케이블 망

케이블 네트워크는 동축 케이블을 통해 데이터를 전송한다.


#### 광랜 (Optical Fiber)

광랜은 FTTN, FTTC, FTTB, FTTH 등 다양한 방식으로 제공된다. 이는 광섬유를 통해 고속 데이터 전송을 가능하게 한다.


#### 홈 네트워크

라우터는 외부로 나가는 통로이며, NAT(Network Address Translation)는 IP 주소를 공유하여 사용한다.


#### 기업 접속 네트워크

기업에서는 라우터가 아닌 네트워크 장비인 스위치를 사용하여 연결을 관리한다. 이더넷 방식으로 연결되며, 랜선의 종류에 따라 속도가 다르다.


#### 무선 접속 네트워크

무선 랜(Wi-Fi)은 건물 내에서 사용되며, 프로토콜은 802.11이다. 광역 무선 접속(WAN)은 3G, 4G, 5G 등이 있다.


## 호스트: 데이터 패킷의 전송

데이터 전송 시 패킷 단위로 나누어 전송한다. 패킷 전송 지연 시간은 패킷의 크기(L 비트)를 링크의 전송 속도(R bps)로 나눈 값으로 계산된다.


## 물리 매체


### 꼬임쌍선 (Twisted Pair)

꼬임선은 10 – 100Mbps 속도로 100m – 1km 거리를 지원하며, 도청이 가능하다.


### 동축 케이블 (Coaxial Cable)

동축 케이블은 구리선 쌍으로 10Mbps – 1Gbps 속도로 1 – 10km 거리를 지원하며, 도청이 가능하다.


### 광섬유 (Fiber Optics)

광섬유는 빛의 속도로 전송되며, 선 내부에서 빛이 반사되면서 전송되기 때문에 손실이 적고 빠르다. 2 – 200Gbps 속도로 10 - 100km 거리를 지원하며, 도청이 불가능하다.


## 네트워크 코어

네트워크 코어는 상호 연결된 라우터들의 망이다. 패킷 교환 방식으로 동작하며, 패킷이 전송 시 가장 먼저 통과하는 장치가 라우터이다. 라우터는 패킷을 큐에 저장한 뒤 어디로 나갈지 지정해주는 역할을 한다.


### 홉 (Hop)

두 노드 사이의 거리를 홉이라고 한다. 큐에 처리되는 속도가 지연되면 패킷이 밀리게 되고, 큐에 공간이 없으면 패킷은 손실될 수 있다. 출발한 노드에서 도착할 노드에 일정 시간이 지나도 도착하지 않으면 패킷은 손실된 것으로 간주되어 다시 전송된다. 이를 관리하는 것이 TCP이다.


### 라우팅 (Routing)

라우터가 패킷이 이동할 수 있도록 따르는 알고리즘을 라우팅 알고리즘이라고 한다. 이는 특정 구역에 전송하는 방식으로 동작한다.


## 네트워크 손실과 지연, 처리율

네트워크의 손실과 지연은 어떻게 발생하는가?
패킷 손실과 지연은 네트워크에서 흔히 발생하는 현상으로, 라우터의 버퍼에 패킷이 큐잉되어 있는 상황에서 발생한다. 만약 패킷 도착률이 출력 링크의 처리 용량을 초과하면, 라우터의 버퍼가 가득 차게 되어 도착하는 패킷들 중 일부가 손실될 수 있다. 이때 손실된 패킷은 다시 전송되거나 복구되어야 한다. 패킷 지연은 네트워크 내의 여러 요인들로 인해 발생하며, 이는 통신 품질에 중요한 영향을 미친다.


**패킷 지연의 원인 4가지**:


1. **노드 처리 지연 (nodal processing)** 

	라우터에서 패킷을 처리하는 과정에서 발생하는 지연으로, 에러 검사, 패킷의 헤더 분석, 출력 링크 결정 등의 작업이 수행된다. 처리 지연은 일반적으로 수 밀리초(ms) 단위로 측정된다.   

2. **큐잉 지연 (queueing delay)** 

	출력 링크에서 전송을 기다리는 시간으로, 라우터의 혼잡 정도에 따라 변동한다. 큐잉 지연은 네트워크 트래픽의 변동에 크게 영향을 받으며, 때로는 매우 짧거나, 네트워크가 혼잡할 경우 매우 길어질 수 있다.

3. **전파 지연 (propagation delay)** 

	신호가 통신 매체를 통해 이동하는 데 걸리는 시간으로, 이는 매체의 특성과 물리적 거리(전송 거리에 비례)에 의해 결정된다. 전파 지연은 전송 매체(예: 광섬유, 구리선, 무선)에 따라 다르며, 일반적으로 거리(km)당 수십 마이크로초(μs) 단위로 측정된다.

4. **전송 지연 (transmission delay)** 

	패킷의 비트가 링크를 통해 전송되는 데 걸리는 시간으로, 패킷의 크기와 링크의 속도에 영향을 받는다. 전송 지연은 패킷의 크기(비트)와 링크의 전송 속도(비트/초)에 의해 결정되며, 패킷의 크기가 크거나 링크 속도가 느릴수록 전송 지연은 길어진다.

### 패킷 손실


패킷 손실은 라우터의 버퍼가 가득 차거나, 네트워크의 오류, 링크의 불안정 등 다양한 원인에 의해 발생할 수 있다. 버퍼가 가득 찬 상태에서 도착하는 패킷은 버려지게 되며, 이러한 손실된 패킷은 네트워크 프로토콜(TCP 등)에 의해 다시 전송되거나 복구 절차를 통해 데이터의 무결성을 유지하게 된다.

**처리율**

네트워크에서 단위 시간당 처리되는 데이터의 양을 나타내는 지표로, 이는 네트워크의 효율성과 성능을 평가하는 중요한 기준이다. 높은 처리율은 네트워크가 많은 데이터를 효율적으로 처리할 수 있음을 의미하며, 이는 사용자 경험과 서비스 품질에 직접적인 영향을 미친다. 네트워크 관리자들은 처리율을 최적화하여 네트워크의 성능을 극대화하고, 지연과 패킷 손실을 최소화하기 위해 다양한 기법을 사용한다.

지연과 패킷 손실 감소를 위해서 다음과 같은 기법들을 사용할 수 있는데, 네트워크 성능을 최적화하고, 사용자에게 안정적이고 빠른 서비스를 제공하기 위해 필수적이다.


1. 네트워크 용량 증대: 더 높은 대역폭의 링크 사용, 라우터와 스위치의 업그레이드를 통해 처리 능력을 향상시킨다.

2. 트래픽 관리: QoS(Quality of Service) 설정, 패킷 우선순위 지정 등을 통해 중요한 트래픽이 먼저 처리되도록 한다.

3. 혼잡 제어: TCP 혼잡 제어 알고리즘, 패킷 큐잉 메커니즘 등 다양한 혼잡 제어 기법을 활용하여 네트워크 혼잡을 완화한다.

4. 버퍼 관리: 적절한 버퍼 크기를 설정하고, 버퍼 관리 기법을 통해 효율적인 큐잉을 유지한다.


## 프로토콜 계층

계층화가 필요한 이유는 다음과 같다.복잡한 시스템을 다룰 경우 확실하게 잡힌 구조를 통해 시스템 요소를 파악하고 분별하기 쉽게 해준다. 또한 모듈화를 통해 시스템을 관리하는 것 뿐만 아니라 업데이트 하는 것도 수월해진다. 


네트워크에서 통신을 위한 레이어 구조를 제공하고, 각 레이어는 특정한 역할과 책임을 갖고 있으며, 상위 레이어는 하위 레이어의 서비스를 활용하여 통신을 수행한다. 주요 프로토콜 레이어로는 응용, 전송, 네트워크, 링크, 물리 계층이 있다.

| 프로토콜 레이어 | 역할 |
| ----------- | --------------|
| 응용 | 사용자와 응용 프로그램 간의 통신을 지원 |
| 전송 | 프로세스 간의 데이터 전송을 담당 |
| 네트워크 | 출발지에서 도착지까지의 데이터그램 라우팅을 담당 |
| 링크 | 인접한 네트워크 요소 간의 데이터 전송을 담당 |
| 물리 | 비트를 전송 |


## ISO/OSI 참조 모델

| 참조 모델 | 역할 |
| ----------- | --------------|
| 응용 | 사용자와 응용 프로그램 간의 통신을 지원 |
| 표현 | 응용 레이어가 데이터의 의미를 해석하도록 지원 |
| 세션 | 데이터 교환시 동기화, checkpointing, 복구 담당 | 
| 전송 | 프로세스 간의 데이터 전송을 담당 |
| 네트워크 | 출발지에서 도착지까지의 데이터그램 라우팅을 담당 |
| 링크 | 인접한 네트워크 요소 간의 데이터 전송을 담당 |
| 물리 | 비트를 전송 |

