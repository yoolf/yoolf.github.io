# 2장 어플리케이션 계층

## 2.1 네트워크 어플리케이션의 원리

![](https://i.imgur.com/fmVQNbJ.png)
### 네트워크 앱

서로 다른 종단 시스템간 네트워크를 통해 통신

웹 서버 소프트웨어는 브라우저 소프트웨어와 소통

네트워크 코어 기기를 위한 소프트웨어의 필요성

- 사용자 어플리케이션을 작동시키지 않는다

## 어플리케이션 구조

1. 클라이언트-서버
2. peer-to-peer(p2p)

### 클라이언트-서버 구조

서버

- 항상 대기한다
- 영구적인 IP 주소를 가진다
- scaling을 위한 데이터 센터

클라이언트

- 서버와 통신
- 다이나믹 IP 주소를 가진다
- 클라이언트끼리 직접 소통하지 않는다

### P2P 구조

항상 서버에 있지 않는다

확장성이 좋다

## 프로세스 커뮤니케션

프로세스

호스트 내에서 실행되는 프로그램

같은 호스트 사이에서 두 프로세스는 inter-process communication을 통해 소통

다른 호스트 사이의 프로세스는 메세지를 교환하여 소통

![](https://i.imgur.com/9uZeD45.png)

클라이언트 프로세스 - 커뮤니케이션을 시작하는 프로세스

서버 프로세스 - 연결을 기다리는 프로세스

## 어플리케이션 레이어 프로토콜 정의

교환되는 메세지의 종류

요청/응답

메세지 문법

메세지에 어떤 영역이 있는지

필드가 어떻게 나열되어 있는지

메세지 의미

필드에 존재하는 정보의 의미

규칙

언제 어떻게 프로세스가 메세지를 주고 받을지

## HTTP/TCP 프로토콜 구조

HTTP 요청 메세지

![](https://i.imgur.com/Xr6vvIc.png)
버전이 일치해야 해석이 일치한다

## 어플리케이션에 필요한 전송 서비스

- 신뢰성
	일부 어플리케이션은 100% 신뢰 가능한 데이터 이동을 요구
	그 외에는 일부 손실을 용인

- 시간
	인터렉티브 게임, 인터넷 등은 낮은 딜레이를 요구한다

- 전송률

멀티 미디어 어플은 최소한의 전송률을 요구한다

- 암호화

암호화, 데이터 무결성 등

## 인터넷 전송 프로토콜 서비스

### TCP 서비스

- 신뢰성 있는 전송
- 플로우 컨트롤
- 혼잡 제어
- 제공하지 않는 것: 다듬기, 최소 전송량 보장, 보안
- 연결 기반: 서버에서 받을 준비가 되었는지 확인 후 전송

### UDP 서비스

- 신뢰성 없는 전송
- 제공하지 않는 것: 의존성, 플로우 컨트롤, 혼잡 제어, 다듬기, 전송 보장, 보안, 연결 설정